
<div class="mainHd png">
	<i class="ico_16"></i>
	<span class="dv">游戏</span>><span class="dv">欢乐斗地主</span>><span class="dv">个人中心</span>
</div>
<!-- 主体内容头End -->
<!-- 个人主页 -->
<div class="mainBd">
	<!-- 资料信息区 -->
	<div class="dataInfoArea">
		<!-- 用户信息 -->
		<div class="userInfo fl">
			<div class="data">
				<div class="left fl">
					<img src="../images/avatar_1.jpg" />
				</div>
				<div class="right">
					<p>
						<span class="orange dv">yvonne55330</span>
						<i class="blueDiamond dv"></i>
						<a href="###" class="noAttest dv" id="btn_auth_realname"></a>
					</p>
					<p><span class="dv">会员等级：</span><a href="###" class="grade dv"></a></p>
					<p><span>数&nbsp;&nbsp;字&nbsp;&nbsp;ID：</span><span>253301485</span></p>
					<p><span>魅&nbsp;&nbsp;力&nbsp;&nbsp;值：</span><span>11</span></p>
				</div>
				<div class="dataBottom">
					<span class="dv">资料完成度：</span>
					<span class="rang dv">
						<div class="rangLeft fl"></div>
						<div class="rangMiddle fl">
							<div class="bar">
								<div class="barLeft fl"></div>
								<div class="barMiddle fl" style="width:50px;">
									<p class="textC">40%</p>
								</div>
								<div class="barRight fl png"></div>
							</div>
						</div>
						<div class="rangRight fl"></div>
					</span>
					<a href="###" class="orange dv">完善资料</a>
				</div>
			</div>
			<div class="security">
				<span>账户安全级别：</span>
				<i class="allstar25 png"></i>
				<span class="orange fs30">20</span>分
				<p>您的账户非常不安全，赶快进行<a href="###" class="orange">安全设置</a>吧</p>
			</div>
		</div>
		<!-- 用户信息End -->
		<!-- 资产信息 -->
		<div class="moneyInfo fr">
			<div class="moneyHd textC"><i class="textIco di png"></i></div>
			<div class="moneyBd">
				<p><span>财富在好友中的排名：</span><span class="orange fs18">208</span></p>
				<p><span>银行：</span><span>2.6亿两</span></p>
				<p><span>银子：</span><span>13万两</span></p>
				<p><span>元宝：</span><span>136个</span></p>
				<p><span>道具：</span><span>29个</span></p>
			</div>
		</div>
		<!-- 资产信息End -->
	</div>
	<!-- 资料信息区End -->
	<!-- 特权区-->
	<div class="privilegeArea">
		<!-- 开通会员-->
		<div class="privilege" style="display:none;" id="row_privilege">
			<div class="collapse" style="display:none;" id="div_privilege_text">
				<p class="collapse">您是会员，<a href="###" class="orange" id="btn_privilege_show">点击查看</a>您可享受的待遇。</p>
			</div>
			<div class="expansion" id="div_privilege_power">
				<p class="expansion">您目前是会员可以享受以下特权：
					<a href="###" class="smallBtn dv" id="btn_privilege_privileges">
						<span class="dv">收起</span><i class="ico_16"></i>
					</a>
				</p>
				<table class="privilegeTable" id="table_privilege_privileges">
					<thead>
						<tr>
							<th>功能</th>
							<th>游戏加速</th>
							<th>上线炫铃</th>
							<th>好友上线</th>
							<th>免费服装</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>目前可享受</td>
							<td>20M/s</td>
							<td>10次</td>
							<td>10次</td>
							<td>5套</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- 开通会员End-->
		<!-- 没开通会员-->
		<div class="noPrivilege" style="display:none;" id="row_noPrivilege">
			<div class="collapse" style="display:none;" id="div_privilege_text">
				<p>您目前还不是会员，<a href="###" class="orange" id="btn_privilege_show">点击查看</a>会员可享受的待遇。</p>
			</div>
			<div class="expansion" id="div_privilege_power" style="display:none;">
				<p class="">开通会员后您可以享受以下特权：
					<a href="###" class="smallBtn dv" id="btn_privilege_privileges">
						<span class="dv">收起</span><i class="ico_16"></i>
					</a>
				</p>
				<table class="privilegeTable" id="table_privilege_privileges">
					<thead>
						<tr>
							<th>功能</th>
							<th>游戏加速</th>
							<th>上线炫铃</th>
							<th>好友上线</th>
							<th>免费服装</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>目前可享受</td>
							<td>1M/s</td>
							<td>不可用</td>
							<td>不可用</td>
							<td>0套</td>
						</tr>
						<tr>
							<td>开通可享受</td>
							<td>20M/s</td>
							<td>10次</td>
							<td>10次</td>
							<td>5套</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- 没开通会员End-->
	</div>
	<!-- 特权区End -->
	<!-- 活动区 -->
	<div class="activityArea">
		<!-- 我的动态 -->
		<div class="left fl">
			<div class="activityHd">
				<i class="text dv png"></i>
				<div class="setBtn dv" id="btns_activity">
					<a href="###" class="smallBtn dv" data-type="prev">上一页</a>
					<a href="###" class="smallBtn dv last" data-type="next">下一页</a>
				</div>
			</div>
			<div class="activityBd" id="div_activity">
				<div class="row first">
					<p class="time">2分钟前<i></i></p>
					<div class="oneRow">
						<p><span class="darkGreen">“你”</span>完成了一个“斗地主”“十连胜”的任务，获得了<a href="###" class="orange">【7日会员卡】</a></p>
						<ul>
							<li>
								<a href="###"><img src="../images/Props_1.jpg" /></a>
							</li>
						</ul>
					</div>
				</div>
				<div class="row">
					<p class="time">27分钟前<i></i></p>
					<div class="oneRow">
						<p><span class="darkGreen">“你”</span>通过推广奖励，获得一个<a href="###" class="orange">【板砖】</a>道具。</p>
						<ul>
							<li>
								<a href="###"><img src="../images/Props_2.jpg" /></a>
							</li>
						</ul>
					</div>
					<div class="oneRow">
						<p><span class="darkGreen">“你”</span>通过了推广奖励任务，获得了<a href="###" class="orange">【50元现金奖励】</a></p>
						<ul>
							<li>
								<a href="###"><img src="../images/Props_3.jpg" /></a>
							</li>
						</ul>
					</div>
				</div>
				<div class="row">
					<p class="time">1小时前<i></i></p>
					<div class="oneRow">
						<p><span class="darkGreen">“你”</span>通过了推广奖励任务，获得了<a href="###" class="orange">【50元现金奖励】</a></p>
						<ul>
							<li>
								<a href="###"><img src="../images/Props_3.jpg" /></a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- 我的动态End -->
		<!-- 感兴趣的人 -->
		<div class="right">
			<div class="firendHd">
				<i class="text dv png"></i>
				<a href="###" class="smallBtn dv" id="btn_changeFriend">换一批</a>
			</div>
			<ul class="firendBd" id="ul_friend">
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
				<li>
					<div class="img">
						<img src="../images/avatar_1.jpg" />
					</div>
					<p>风扬</p>
					<a href="###" class="addFriend">+ 好友</a>
				</li>
			</ul>
		</div>
		<!-- 感兴趣的人End -->
	</div>
	<!-- 活动区End -->
</div>
<!-- 个人主页End -->


<!-- mask -->
<div class="mask" style="display:none;" id="mask"></div>
<!-- mask End -->

<!-- 实名认证弹层 -->
<div class="mask" style="display:none;"></div>
<div class="iboxAuthenticate" style="display:none;" id="dialog_realname">
	<div class="iboxTop png"><a href="###" class="close png" id="btn_dialogRealname_close"></a></div>
	<div class="iboxMiddle">
		<div class="titText">
			<p class="hd">实名认证要求</p>
			<p class="idt">根据2010年8月1日文化部推行的《网络游戏管理暂行办法》，<span class="orange">网络游戏 用户需使用有效身份证件进行实名注册</span>，为保证流畅游戏体验，享受健康游戏生活，请各位边锋玩家尽快完成实名注册！</p>
		</div>
		<div class="formRow">
			<div class="formLeft di">
				您的身份证号码：
			</div>
			<div class="formRight di formTr">
				<input type="text" class="mid dv" id="txt_idcard" data-valid="{'type':'idcard', 'msg':'身份证号不正确'}">
				<i class="warn png hide" id="ico_idcard"></i>
                <span id="msg_idcard"></span>
			</div>
		</div>
		<div class="formRow">
			<div class="formLeft di">
				您的真实姓名：
			</div>
			<div class="formRight di formTr">
                <input type="text" class="mid dv" id="txt_realname" data-valid="{'type':'realname','msg':'请输入真实姓名'}">
                <i class="warn png hide" id="ico_realname"></i>
                <span id="msg_realname"></span>
			</div>
		</div>
		<div class="textC">
			<a href="###" class="Midbtn di png" id="btn_dialogRealname_submit">提交</a>
		</div>
	</div>
	<div class="iboxBottom png"></div>
</div>
<!-- 实名认证End -->

<!-- 完善安全设置 -->
<div class="mask" style="display:none;"></div>
<div class="iboxSettings" style="display:none;" id="dialog_safe">
	<div class="iboxTop png">
		<span>完善安全设置</span>
		<a href="###" class="close png" id="btn_dialogSafe_close"></a>
	</div>
	<div class="iboxMiddle png">
		<div class="oneArticle">
			<div class="left dv">
				<div class="name dv">
					<p>手机验证</p>
					<p class="fs12">（推荐）</p>
				</div>
				<i class="phone dv png"></i>
			</div>
			<div class="right dv">
				<p>保障账户安全性，可用于找回密码。</p>
				<a href="###" class="midBtn dv png">绑定手机</a>
			</div>
		</div>
		<div class="oneArticle">
			<div class="left dv">
				<div class="name dv">
					<p>邮箱验证</p>
					<p class="fs12">（推荐）</p>
				</div>
				<i class="mail dv png"></i>
			</div>
			<div class="right dv">
				<p>提高账户安全性，接受账户相关公告，可用于找回密码。 </p>
				<a href="###" class="midBtn dv png">填写密保邮箱</a>
			</div>
		</div>
		<div class="textC png">
			<a href="###" class="Midbtn dv png" id="btn_dialogSafe_submit">以后再说</a>
			<label for="txt_say" class="dv">
				<input type="checkbox" id="txt_say" class="dv" value="1"><span class="dv">下次不在提醒</span>
			</label>
		</div>
	</div>
	<div class="iboxBottom png"></div>
</div>
<!-- 完善安全设置End -->

<!-- 添加好友弹层 -->
<div class="iboxFirend" style="display:none;" id="dialog_friend">
	<div class="iboxTop png">
		<i class="ico_16 dv"></i><span class="dv">添加好友</span>
		<a href="###" class="close png" id="btn_dialogFriend_close"></a>
	</div>
	<div class="iboxMiddle png">
		<div class="left fl">
			<div class="avatarArea textC">
				<div class="img di">
					<img src="../images/avatar_1.jpg" />
				</div>
			</div>
			<p class="name">风扬飞絮</p>
			<p>46670701</p>
			<p class="brown">性别：<span>男</span></p>
			<p class="brown">家乡：<span>湖南</span><span class="ml5">长沙</span></p>
		</div>
		<div class="right">
			<p>请输入验证信息：</p>
			<textarea></textarea>
		</div>
	</div>
	<div class="iboxBottom textC png">
		<a href="###" class="Midbtn di png" id="btn_dialogFriend_submit">确 定</a>
	</div>
</div>
<!-- 添加好友弹层End -->


<script type="text/javascript">
$(function() {
	var g_safeSetting = true;	// 是否安全设置过
	var g_realname = true;		// 是否实名认证过
	var g_isMember = true;		// 是否会员

	var ui = {
        $mask: $('#mask'),
        $txt_valids: $('[data-valid]'),
        $btn_auth_realname: $('#btn_auth_realname'),
        $dialog_realname: $('#dialog_realname'),
        $btn_dialogRealname_close: $('#btn_dialogRealname_close'),
        $btn_dialogRealname_submit: $('#btn_dialogRealname_submit'),
        $dialog_safe: $('#dialog_safe'),
        $btn_dialogSafe_close: $('#btn_dialogSafe_close'),
        $btn_dialogSafe_submit: $('#btn_dialogSafe_submit'),
        $txt_say: $('#txt_say'),
        $btn_changeFriend: $('#btn_changeFriend'),
        $ul_friend: $('#ul_friend'),
        $dialog_friend: $('#dialog_friend'),
        $btn_dialogFriend_close: $('#btn_dialogFriend_close'),
        $btn_dialogFriend_submit: $('#btn_dialogFriend_submit'),
        $btns_activity: $('#btns_activity'),
        $div_activity: $('#div_activity')
    };

    var oPage = {
    	init: function() {
			this.view();
			this.bindEvent();
		},
		view: function() {
			if(!g_safeSetting) {
				this.fDialogSafeShowHide(true);
			}
			if(!g_realname) {
				this.fDialogRealnameShowHide(true);
			}
			// 会员特权
			if(g_isMember) {
				ui.$row_privilege = $('#row_privilege');
				$('#row_noPrivilege').remove();
			} else {
				ui.$row_privilege = $('#row_noPrivilege');
				$('#row_privilege').remove();
			}
			ui.$row_privilege.show();
			this.fPrivilegeShowHide(true);
			ui.$div_privilege_text = $('#div_privilege_text');
			ui.$div_privilege_power = $('#div_privilege_power');
		},
		bindEvent: function() {
			var self = this;
			// 表单校验
            ui.$txt_valids.on('blur', function() {
                fInputValid($(this));
            });
            // 实名认证按钮
            ui.$btn_auth_realname.on('click', function() {
            	self.fDialogRealnameShowHide(true);
            });
            // 实名认证关闭
            ui.$btn_dialogRealname_close.on('click', function() {
            	self.fDialogRealnameShowHide(false);
            });
            // 实名认证提交
            ui.$btn_dialogRealname_submit.on('click', function() {
            	var flag = true;
                flag = self.fFormValid(ui.$dialog_realname);
                if(flag) {//表单异步请求
                    self.fDialogRealnameShowHide(false);
                }
            });
			// 完善安全设置关闭
			ui.$btn_dialogSafe_close.on('click', function() {
				self.fDialogSafeShowHide(false);
			});
			// 完善安全设置-以后再说
			ui.$btn_dialogSafe_submit.on('click', function() {
				if(ui.$txt_say.prop('checked')) {
					// 异步发送不在提醒
					self.fDialogSafeShowHide(false);
				} else {
					self.fDialogSafeShowHide(false);
				}
			});
			// 会员-特权
			ui.$row_privilege.on('click', 'a', function() {
				var id = this.id;
				if(id == 'btn_privilege_show') {//查看特权
					self.fPrivilegeShowHide(true);
				} else if(id == 'btn_privilege_privileges') {//收起
					self.fPrivilegeShowHide(false);
				}
			});
			// 感兴趣的人,换一批
			ui.$btn_changeFriend.on('click', function() {
				self.fChangeFriend();
			});
			// 显隐 +好友
			ui.$ul_friend.on('mouseenter', 'li', function() {
				$(this).find('a').show();
			}).on('mouseleave', 'li', function() {
				$(this).find('a').hide();
			});
			// +好友弹层
			ui.$ul_friend.on('click', 'a', function() {
				self.fDialogFriendShowHide(true);
			});
			// 关闭好友弹层
			ui.$btn_dialogFriend_close.on('click', function() {
				self.fDialogFriendShowHide(false);
			});
			// 发送好友请求
			ui.$btn_dialogFriend_submit.on('click', function() {
				// 发送异步请求
				self.fDialogFriendShowHide(false);
			});
			// 动态翻页
			ui.$btns_activity.on('click', 'a', function() {
				var type = $(this).data('type');
				self.fShowActivity(type);
			});
		},
		// 表单校验
        fFormValid: function($form) {
            var self = this;
            var flag = true;
            $form.find('[data-valid]').each(function() {
                flag = fInputValid($(this));
                if(!flag) {
                    return false;
                }
            });
            return flag;
        },
		// 完善安全设置弹框-显隐
		fDialogSafeShowHide: function(flag) {
			if(flag) {
				ui.$dialog_safe.show().prev().show();
			} else {
				ui.$dialog_safe.hide().prev().hide();
			}
		},
		// 实名认证弹框-显隐
		fDialogRealnameShowHide: function(flag) {
			if(flag) {
				ui.$dialog_realname.show().prev().show();
			} else {
				ui.$dialog_realname.hide().prev().hide();
			}	
		},
		// 查看特权
		fPrivilegeShowHide: function(flag) {
			if(flag) {
				ui.$row_privilege.find('#div_privilege_text').hide();
				ui.$row_privilege.find('#div_privilege_power').slideDown(800);
			} else {
				ui.$row_privilege.find('#div_privilege_power').slideUp(800, function() {
					ui.$row_privilege.find('#div_privilege_text').show();
				});
			}
		},
		// 感兴趣的人,换一批 
		fChangeFriend: function() {
			// 异步请求
			var dataSource = [
				{'id':'1', 'name':'昵称', 'img':'../images/avatar_1.jpg'},
				{'id':'2', 'name':'昵称1', 'img':'../images/avatar_1.jpg'},
				{'id':'3', 'name':'昵称2', 'img':'../images/avatar_1.jpg'},
				{'id':'4', 'name':'昵称3', 'img':'../images/avatar_1.jpg'}
			];

			var lis = '';
			$.each(dataSource, function(i, n) {
				lis += '<li><div class="img"><img src="' + n.img + '" /></div>';
				lis	+= '<p>' + n.name + '</p><a href="###" data-id=' + n.id + ' class="addFriend">+ 好友</a></li>';
			});
			ui.$ul_friend.html(lis);
		},
		// 好友弹框-显隐
		fDialogFriendShowHide: function(flag, info) {
			if(flag) {
				ui.$mask.show();
				ui.$dialog_friend.show();
			} else {
				ui.$mask.hide();
				ui.$dialog_friend.hide();
			}	
		},
		// 我的动态设置
		fShowActivity: function(source) {

		},
		// 动态异步数据请求
		fAjaxActivity: function() {

		} 
    };

    oPage.init();
})
</script>