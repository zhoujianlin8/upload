<!-- 主体内容头 -->
<div class="mainHd png">
    <i class="ico_16"></i>
    <span class="dv">游戏</span>><span class="dv">欢乐斗地主</span>><span class="dv">个人中心</span>
</div>
<!-- 主体内容头End -->
<!-- 财富记录 -->
<div class="mainBd">
<!-- 财富头部搜索 -->
<div class="search">
    <div class="top"></div>
    <div class="middle">
        <div class="left fl">
            <div class="formRow first">
                <div class="formLeft dv">
                    选择您要查询的类别：
                </div>
                <div class="formRight dv">
                    <select>
                        <option value="0">划账和转账记录</option>
                        <option value="1">所有记录</option>
                        <option value="2">充值记录</option>
                    </select>
                </div>
            </div>
            <div class="formRow time">
                <div class="formLeft dv">
                    时间：
                </div>
                <div class="formRight dv">
                    <select class="dv">
                        <option value="0">最近一个月</option>
                        <option value="1">最近二个月</option>
                        <option value="2">最近三个月</option>
                        <option value="3">最近四个月</option>
                        <option value="4">最近五个月</option>
                        <option value="5">最近六个月</option>
                        <option value="6">最近一年</option>
                    </select>
                    <input type="text" class="midSmallInput dv">
                    <small>—</small>
                    <input type="text" class="midSmallInput dv">
                </div>
            </div>
        </div>
        <div class="right">
            <a href="###" class="bigGrayBtn di png"><i class="dv png"></i><span class="dv">查询</span></a>
        </div>
    </div>
    <div class="bottom"></div>
</div>
<!-- 财富头部搜索End -->
<!-- 财富内容 -->
<div class="wealthBd">
<div class="transfer">
<table class="table">
<thead>
<tr>
    <th>类型<i class="line"></i></th>
    <th>方式<i class="line"></i></th>
    <th>金额（银子）<i class="line"></i></th>
    <th>银行余款<i class="line"></i></th>
    <th>时间</th>
</tr>
</thead>
<tbody>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>银行到钱包</p>
    </td>
    <td>
        <p>6,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <i class="income dv"></i>
        <div class="dv">
            <p>收入</p>
            <p>（<span>encri</span>)</p>
        </div>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <i class="outlay dv"></i>
        <div class="dv">
            <p>支出</p>
            <p>（<span>encri</span>)</p>
        </div>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
<tr>
    <td>
        <p>转账</p>
    </td>
    <td>
        <p>钱包到银行</p>
    </td>
    <td>
        <p>1,8000</p>
    </td>
    <td>
        <p>22,0000</p>
    </td>
    <td>
        <p>2013-04-27</p>
        <p>10:42</p>
    </td>
</tr>
</tbody>
</table>
</div>
<!-- 分页 -->
<div class="pageNative" id="div_page">
    <a href="###" class="up" data-action="prev">
        <i class="png"></i>上一页
    </a>
		            <span class="numList" id="span_pageList">
		            	<!--<a href="###" class="num cur" data-page="1">1</a>
		            	<a href="###" class="num" data-page="2">2</a>
		            	<a href="###" class="num" data-page="3">3</a>
		            	<a href="###" class="num" data-page="4">4</a>
		            	<a href="###" class="num" data-page="5">5</a>
		            	<a href="###" class="num" data-page="6">6</a>-->
		            </span>
    <a href="###" class="next" data-action="next">下一页<i class="png"></i></a>
</div>
<!-- 分页End -->
<!-- 财富内容End -->
</div>
</div>
<!-- 财富内容End -->
<script type="text/javascript">
    $(function() {
        var ui = {
            $prop_tbody: $('#prop_tbody'),
            $div_page: $('#div_page'),
            $span_pageList: $('#span_pageList')
        };

        var oPageWealth = {
            init: function() {
                this.view();
                this.bindEvent();
            },
            view: function() {
                // 分页显示
                this.fPagingView();
                this.fShowCurPage(this.oPageInfo.curPage);
            },
            bindEvent: function() {
                var self = this;
                // 分页事件
                ui.$div_page.on('click', 'a', function() {
                    var $this = $(this),
                            action = $this.data('action'),
                            page = $this.data('page');
                    if(action == 'prev') {//上下页按钮
                        if(self.oPageInfo.curPage > 1) {
                            self.fShowCurPage(self.oPageInfo.curPage - 1);
                        }
                    } else if(action == 'next') {
                        if(self.oPageInfo.curPage < self.oPageInfo.pageCount) {
                            self.fShowCurPage(self.oPageInfo.curPage + 1);
                        }
                    } else {//直接页码
                        self.fShowCurPage(parseInt($this.data('page')));
                    }
                })
            },
            // 分页
            fPagingView: function() {
                ui.$prop_tbody_tr = ui.$prop_tbody.find('tr');
                var size = 8,  //每页显示数量
                        curPage = 1,    //当前页码
                        length = ui.$prop_tbody_tr.length,
                        pageCount = Math.ceil(length / size);
                var html = '';
                for(var i=1;i<=pageCount;i++) {
                    if(i == 1) {
                        html += '<a href="###" class="num cur" data-page="'+i+'">'+i+'</a>';
                    } else {
                        html += '<a href="###" class="num" data-page="'+i+'">'+i+'</a>';
                    }
                }
                ui.$span_pageList.html(html);

                this.oPageInfo = {
                    size: size,
                    curPage: curPage,
                    pageCount: pageCount
                };
            },
            fShowCurPage: function(nPage) {
                var startIndex = (nPage - 1) * this.oPageInfo.size,
                        endIndex = startIndex + this.oPageInfo.size,
                        maxIndex = this.oPageInfo.pageCount * this.oPageInfo.size;
                if(endIndex > maxIndex) {
                    endIndex = maxIndex;
                }

                ui.$prop_tbody_tr.hide().slice(startIndex, endIndex).show();
                ui.$span_pageList.find('a[data-page='+nPage+']').addClass('cur')
                        .siblings().removeClass('cur');
                this.oPageInfo.curPage = nPage;
            }
        };

        oPageWealth.init();
    })
</script>
